{% macro render_field(field, groupid=None) %}
{% if field.errors %}
<div class="control-group error">
{% elif groupid %}
<div class="control-group" id="{{ groupid }}">
{% else %}
<div class="control-group">
{% endif %}

  <div class="control-label">{{ field.label }}</div>
  <div class="controls">
    {{ field(**kwargs)|safe }}
    {% if field.errors %}
    <span class="help-inline">
      {% for error in field.errors %}
      {{ error }}
      {% endfor %}
    </span>
    {% endif %}
  </div>
</div>
{% endmacro %}
